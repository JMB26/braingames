{% extends 'base.html.twig' %}

{% block title %}User index
{% endblock %}

{% block body %}
	<div class="container">
		<div class="row justify-content-center">
			<div class="fs-2 col-6 text-center m-3">
				Gestion des Utilisateurs...
			</div>
		</div>

		<div class="row justify-content-center">
			<div class="fs-6 col-12 text-center m-3">

				<table class="table">
					<thead>
						<tr>
							<th>Id</th>
							<th>Email</th>
							<th>Roles</th>
							{# <th>Password</th> #}
							<th>Pseudo</th>
							<th>Type</th>
							<th>Typname</th>
							<th>Note</th>
							<th>News</th>
							<th>Token</th>
							<th>Date</th>
							<th>statut</th>
							<th>actions</th>
						</tr>
					</thead>
					<tbody>
						{% for user in users %}
							<tr>
								<td>{{ user.id }}</td>
								<td>{{ user.email }}</td>
								<td>{{ user.roles ? user.roles|json_encode : '' }}</td>
								{# <td>{{ user.password }}</td> #}
								<td>{{ user.pseudo }}</td>
								<td>{{ user.type }}</td>
								<td>{{ user.typname }}</td>
								<td>{{ user.note }}</td>
								<td>{{ user.news ? 'Yes' : 'No' }}</td>
								<td>{{ user.token }}</td>
								<td>{{ user.date ? user.date|date('Y-m-d H:i:s') : '' }}</td>
								<td>{{ user.status ? 'Yes' : 'No' }}</td>
								<td>
									<a href="{{ path('app_users_edit', {'id': user.id}) }}">Modifier</a>
									<a href="{{ path('app_users_delete', {'id': user.id}) }}">Supprimer</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="13">no records found</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>

				{# <a href="{{ path('app_users_new') }}">Create new</a> #}
			</div>
		</div>
	</div>
{% endblock %}
